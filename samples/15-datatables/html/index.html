<!doctype html>
<html lang="en">
<head>
   <!-- zona de metadatos, titulo e icono de la pagina -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>DataTable examples</title>
	<link rel="shortcut icon" type="image/png" href="files/uhttpd2/images/favicon.ico"/>

   <!-- dependencias o librerias externas ( simil de enlace en ejecutables ) -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"></script>

   <!-- dependencias o librerias de servidor -->
	<script src="files/uhttpd2/uhttpd2.js"></script>
</head>
<body>

   <!-- vista -->
	<div class="container">

		<h3>Clientes. Datatable</h3>
      <div><a href="https://datatables.net/manual/" target="_blank">Manual datatable</a></div>
      <hr>
		
      <table id="grid" class="table table-striped" style="width:100%"></table>		

	</div>
	
   <!-- conector -->
   <script type="module">
   // Importar lib
   import { k_Datatable } from "./files/uhttpd2/contrib/konector.min.js"

   const config = {
      
      // Mensaje mostrar 1 de ..., cuadro de búsqueda
      info         : false,
      searching    : true,
      lengthChange : true,

      // Opciones del control de paginación
      paging       : true,
      pageLength   : 8,
      pagingType   : "full_numbers", //  "numbers"

      // Opciones para obtener datos del servidor
      processing: true,
      serverSide: true,

      // Opciones para ordenacion de columnas
      ordering     : true,

      columns: [
         { title: "Nombre",      data: 'first' },
         { title: "Apellidos",   data: 'last'  },
         { title: "Edad",        data: 'age'   }
      ]
   }

   // -----------------------------------------------------------
   // k_Datatable( p1, p2, p3, p4 ) 
   // 1 : id      = Elemento DOM donde visualiza el plugin 
   // 2 : api     = Funcion de servidor, devuelve datos a mostrar
   // 3 : config  = Configuracion de las opciones del plugin
   // 4 : debug   = Depuracion por consola (true/false)
   // -----------------------------------------------------------
   // Conectar los 2 mundos : servidor (PRG) cliente (DOM) |
   // -----------------------------------------------------------

   k_Datatable( "grid", "apirest", config, true ); 

   </script>
</body>
</html>
