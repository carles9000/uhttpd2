export function k_Datatable(o,n,e){e.ajax=n,$("#"+o).DataTable(e)}function __get(o,n){Formio.fetch(n.onload+n.params,{headers:{"content-type":"application/json"},mode:"cors"}).then(o=>o.json()).then(n=>{console.log(n),o.submission={data:n.data}})}function __send(o,n,e){Formio.fetch(n,{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"POST",mode:"cors"}).then(function(n){return o.emit("submitDone"),n.json()}).then(o=>{console.log(o),alert(o.message)})}export function k_Formio(o,n,e={design:!1}){window.onload=function(){let t=document.getElementById(o);Formio.icons="fontawesome",e.design?k_FormioBuilder(t,n,e):Formio.createForm(t,location.origin+"/"+n).then(n=>{n.nosubmit=!0,UInitDialog(o),n.on("submit",o=>__send(n,e.onsend,o.data)),e.onload&&n.on("render",o=>__get(n,e))})}}function __CreateButton(o){let n=document.createElement("H3");n.innerHTML='\n      <img src="files/uhttpd2/images/rw.png" height="50px">\n      Workshop builder\n      <button id="save" class="btn btn-link float-right">Guardar formulario</button>\n   ';let e=o.closest("div.container");e.insertBefore(n,e.firstChild)}function k_FormioBuilder(o,n,e){const t=new Formio(location.origin+"/"+n);let i;t.loadForm().then(n=>{Formio.builder(o,n).then(o=>{i=o})}),__CreateButton(o),document.querySelector("#save").onclick=function(o){o.preventDefault(),e.hasOwnProperty("onsave")||""!==e.onsave?fetch(location.origin+"/"+e.onsave,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i.schema)}).then(o=>o.json()).then(o=>alert(o.message)):console.log("fn onsave no informada")}}